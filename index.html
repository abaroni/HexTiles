<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>COVID-19</title>
  <meta content="" name="descriptison">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Bocor - v2.0.0
  * Template URL: https://bootstrapmade.com/bocor-bootstrap-template-nice-animation/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="container d-flex">

      <div class="logo mr-auto">
        <h1 class="text-light"><a href="index.html">COVID<span>-</span>19</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav class="nav-menu d-none d-lg-block">
        <ul>
          <li class="active"><a href="#header">Home</a></li>
          <!--  <li class="get-started"><a href="#about">Get Started</a></li>-->
          <!--
          <li><a href="#services">Services</a></li>
          <li><a href="#portfolio">Portfolio</a></li>
          <li><a href="#team">Team</a></li>
          <li class="drop-down"><a href="">Drop Down</a>
            <ul>
              <li><a href="#">Drop Down 1</a></li>
              <li class="drop-down"><a href="#">Drop Down 2</a>
                <ul>
                  <li><a href="#">Deep Drop Down 1</a></li>
                  <li><a href="#">Deep Drop Down 2</a></li>
                  <li><a href="#">Deep Drop Down 3</a></li>
                  <li><a href="#">Deep Drop Down 4</a></li>
                  <li><a href="#">Deep Drop Down 5</a></li>
                </ul>
              </li>
              <li><a href="#">Drop Down 3</a></li>
              <li><a href="#">Drop Down 4</a></li>
              <li><a href="#">Drop Down 5</a></li>
            </ul>
          </li>

          -->
          <li><a href="#contact">Contact Me</a></li>
        </ul>
      </nav><!-- .nav-menu -->

    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero">

    <div class="container">
      <div class="row d-flex align-items-center">
      <div class=" col-lg-6 py-5 py-lg-0 order-2 order-lg-1" data-aos="fade-right">
        <h1>⚠️Warning⚠️</h1>
        <h2>This is not a forecast of how COVID-19 will impact italy. I'm just a kid with some javascript and governament data, not taking into account a lot of things. Please do not share on social media without this warning.</h2>
        <a href="#about" class="btn-get-started scrollto">I understand</a>
      </div>
      <div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="fade-left">
          <h1>Read the warning</h1>
      </div>
    </div>
    </div>

  </section><!-- End Hero -->

  <main id="main">

    <!-- ======= About Section ======= -->
    <section id="about" class="about section-bg">
      <div class="container">

        <div class="row">
          <div class="col-xl-12 pl-0 pl-lg-5 pr-lg-1 d-flex align-items-stretch">
            <div class="content d-flex flex-column justify-content-center">
              <h3 data-aos="fade-in" data-aos-delay="50">Latest data from: <span id="latest-date"></span></h3>
              <div class="row">
                <div class="col-md-6 icon-box" data-aos="fade-up">
                  <i class="bx bx-receipt"></i>
                  <h4>Today's numbers</h4>
                  <p data-aos="fade-in">Reported COVID-19 cases in Italy:</p>
                  <p data-aos="fade-in">Total <span id="total-number"></span></p>
                  <p data-aos="fade-in">Positive <span id="positive-number"></span></p>
                  <p data-aos="fade-in">Death <span id="dead-number"></span></p>
                  <p data-aos="fade-in">Cured <span id="cured-number"></span></p>
                </div>
                <div class="col-md-6 icon-box" data-aos="fade-up" data-aos-delay="50">
                  <i class="bx bx-images"></i>
                  <h4><a href="#">Charted data up to today</a></h4>
                  <div class="today-chart-container">
                  </div>
                </div>
                <div class="col-md-12 icon-box" data-aos="fade-up" data-aos-delay="100">
                  <i class="bx bx-images"></i>
                  <h4>Fitting equations to the data of total cases</h4>
                  <p>Linear: <span id="linear-equation"></span> , r^2 = <span id="linear-r2"></span></p>
                  <p>Power: <span id="power-equation"></span> , r^2 = <span id="power-r2"></span></p>
                  <p>Exponential: <span id="exponential-equation"></span> , r^2 = <span id="exponential-r2"></span></p>
                </div>
                <div class="col-md-12 icon-box" data-aos="fade-up" data-aos-delay="100">
                  <i class="bx bx-images"></i>
                  <h4>Data and equations on a chart</h4>
                  <div class="data-equations-chart-container" style="padding-right: 15px;">
                  </div>
                </div>
                <div class="col-md-12 icon-box" data-aos="fade-up" data-aos-delay="100">
                  <i class="bx bx-images"></i>
                  <h4>Fitting equations (restricting to last 7 days)</h4>
                  <p>Linear: <span id="restricted-linear-equation"></span> , r^2 = <span id="restricted-linear-r2"></span></p>
                  <p>Power: <span id="restricted-power-equation"></span> , r^2 = <span id="restricted-power-r2"></span></p>
                  <p>Exponential: <span id="restricted-exponential-equation"></span> , r^2 = <span id="restricted-exponential-r2"></span></p>
                </div>
                <div class="col-md-12 icon-box" data-aos="fade-up" data-aos-delay="100">
                  <i class="bx bx-images"></i>
                  <h4>Data and equations on a chart (restricting to last 7 days)</h4>
                  <div class="data-equations-restricted-chart-container"  style="padding-right: 15px;">
                  </div>
                </div>

              </div>
            </div><!-- End .content-->
          </div>
        </div>

      </div>
    </section><!-- End About Section -->


    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact section-bg">
      <div class="container">

        <div class="section-title">
          <h2 data-aos="fade-in">Contact</h2>
          <p data-aos="fade-in">I'm Alessandro Baroni, you can reach me to the following contacts</p>
        </div>

        <div class="row">
          <div class="col-lg-12">
            <div class="info-box" data-aos="fade-up">
              <i class="bx bx-map"></i>
              <h3>My address</h3>
              <p>Somewhere in Rome</p>
            </div>
          </div>
          <div class="col-lg-12">

            <div class="row">

              <div class="col-md-6">
                <div class="info-box mt-4" data-aos="fade-up" data-aos-delay="50">
                  <i class="bx bx-envelope"></i>
                  <h3>Email Me</h3>
                  <p>inf.baroni@gmail.com</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-box mt-4" data-aos="fade-up" data-aos-delay="50">
                  <i class="bx bxl-twitter"></i>
                  <h3>Tweet me</h3>
                  <p>@tm86</p>
                </div>
              </div>
            </div>

          </div>


        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">

      <div class="container" data-aos="fade-up">

        <div class="row  justify-content-center">
          <div class="col-lg-6">
            <h3>COVID-19</h3>
            <p>This page has been created to keep me busy while staying at home. It is not an accurate forecast in any way, so don't use it to take any businsess or public interest decision</p>
          </div>
        </div>


        <div class="social-links">
          <a href="https://twitter.com/tm86" class="twitter"><i class="bx bxl-twitter"></i></a>
          <a href="https://it.linkedin.com/in/alebaroni" class="linkedin"><i class="bx bxl-linkedin"></i></a>
        </div>
      </div>
    </div>

    <div class="container footer-bottom clearfix">
      <div class="copyright">

      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/bocor-bootstrap-template-nice-animation/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.js" integrity="sha256-8zyeSXm+yTvzUN1VgAOinFgaVFEFTyYzWShOy9w7WoQ=" crossorigin="anonymous"></script>
  <script>
		window.onload = function() {
			const todayContainer = document.querySelector('.today-chart-container');
			const todayDiv = document.createElement('div');
			todayDiv.classList.add('chart-container');
			const todayCanvas = document.createElement('canvas');
			todayDiv.appendChild(todayCanvas);
			todayContainer.appendChild(todayDiv);

			const dataEquationsContainer = document.querySelector('.data-equations-chart-container');
			const dataEquationsDiv = document.createElement('div');
			dataEquationsDiv.classList.add('chart-container');
			const dataEquationsCanvas = document.createElement('canvas');
			dataEquationsDiv.appendChild(dataEquationsCanvas);
			dataEquationsContainer.appendChild(dataEquationsDiv);

			const dataEquationsRestrictedContainer = document.querySelector('.data-equations-restricted-chart-container');
			const dataEquationsRestrictedDiv = document.createElement('div');
			dataEquationsRestrictedDiv.classList.add('chart-container');
			const dataEquationsRestrictedCanvas = document.createElement('canvas');
			dataEquationsRestrictedDiv.appendChild(dataEquationsRestrictedCanvas);
			dataEquationsRestrictedContainer.appendChild(dataEquationsRestrictedDiv);

      function getLabels(data){return  data.map( (e,i) => 'Day '+(i+1) )}
      const allTimeData = {
        "latestDate": "2020-03-18",
        "total": [
          229,
          322,
          400,
          650,
          888,
          1128,
          1694,
          2036,
          2502,
          3089,
          3858,
          4636,
          5883,
          7375,
          9172,
          10149,
          12462,
          15113,
          17660,
          21157,
          24747,
          27980,
          31506,
          35713
        ],
        "dead": [
          7,
          10,
          12,
          17,
          21,
          29,
          34,
          52,
          79,
          107,
          148,
          197,
          233,
          366,
          463,
          631,
          827,
          1016,
          1266,
          1441,
          1809,
          2158,
          2503,
          2978
        ],
        "cured": [
          1,
          1,
          3,
          45,
          46,
          50,
          83,
          149,
          160,
          276,
          414,
          523,
          589,
          622,
          724,
          1004,
          1045,
          1258,
          1439,
          1966,
          2335,
          2749,
          2941,
          4025
        ],
        "positive": [
          221,
          311,
          385,
          588,
          821,
          1049,
          1577,
          1835,
          2263,
          2706,
          3296,
          3916,
          5061,
          6387,
          7985,
          8514,
          10590,
          12839,
          14955,
          17750,
          20603,
          23073,
          26062,
          28710
        ],
        "totalForcastedLinear": [
          -6289,
          -4871,
          -3453,
          -2036,
          -618,
          799,
          2216,
          3634,
          5052,
          6470,
          7887,
          9305,
          10723,
          12141,
          13558,
          14976,
          16394,
          17812,
          19229,
          20647,
          22065,
          23483,
          24900,
          26318,
          27736,
          29154,
          30571,
          31989,
          33407,
          34824,
          36242
        ],
        "totalEquationLinear": "y = 1417.7395652173914x + -7707.202898550727",
        "totalR2Linear": 0.8443233706103721,
        "totalForcastedPower": [
          72,
          251,
          520,
          870,
          1299,
          1801,
          2374,
          3016,
          3726,
          4500,
          5339,
          6240,
          7202,
          8225,
          9308,
          10450,
          11649,
          12906,
          14220,
          15589,
          17014,
          18493,
          20027,
          21614,
          23255,
          24949,
          26695,
          28493,
          30343,
          32244,
          34195
        ],
        "totalEquationPower": "y = 72.59270847685504x^1.792376144516319",
        "totalR2Power": 0.8021505968424216,
        "totalForcastedExponential": [
          656,
          784,
          938,
          1122,
          1342,
          1604,
          1919,
          2295,
          2745,
          3282,
          3926,
          4695,
          5615,
          6715,
          8030,
          9603,
          11485,
          13735,
          16426,
          19644,
          23492,
          28095,
          33599,
          40181,
          48053,
          57466,
          68725,
          82188,
          98290,
          117545,
          140573
        ],
        "totalEquationExponential": "y = 548.6444989353745e^(0.1789044234899393x)",
        "totalR2Exponential": 0.9867520305968538
      }

      const restrictedData = {
        "latestDate": "2020-03-18",
        "total": [
          15113,
          17660,
          21157,
          24747,
          27980,
          31506,
          35713
        ],
        "dead": [
          7,
          10,
          12,
          17,
          21,
          29,
          34,
          52,
          79,
          107,
          148,
          197,
          233,
          366,
          463,
          631,
          827,
          1016,
          1266,
          1441,
          1809,
          2158,
          2503,
          2978
        ],
        "cured": [
          1,
          1,
          3,
          45,
          46,
          50,
          83,
          149,
          160,
          276,
          414,
          523,
          589,
          622,
          724,
          1004,
          1045,
          1258,
          1439,
          1966,
          2335,
          2749,
          2941,
          4025
        ],
        "positive": [
          221,
          311,
          385,
          588,
          821,
          1049,
          1577,
          1835,
          2263,
          2706,
          3296,
          3916,
          5061,
          6387,
          7985,
          8514,
          10590,
          12839,
          14955,
          17750,
          20603,
          23073,
          26062,
          28710
        ],
        "totalForcastedLinear": [
          14519,
          17959,
          21399,
          24839,
          28279,
          31719,
          35158,
          38598,
          42038,
          45478,
          48918,
          52357,
          55797,
          59237
        ],
        "totalEquationLinear": "y = 3439.8214285714284x + -47396.82142857143",
        "totalR2Linear": 0.9971379148655514,
        "totalForcastedPower": [
          15228,
          17911,
          20892,
          24187,
          27811,
          31780,
          36109,
          40816,
          45914,
          51420,
          57350,
          63720,
          70544,
          77839
        ],
        "totalEquationPower": "y = 2.6028823533869834x^3.0011136663343265",
        "totalR2Power": 0.9978292015871116,
        "totalForcastedExponential": [
          15663,
          18029,
          20753,
          23889,
          27498,
          31652,
          36434,
          41938,
          48273,
          55566,
          63961,
          73624,
          84747,
          97550
        ],
        "totalEquationExponential": "y = 1244.6227591751317e^(0.1406946201273163x)",
        "totalR2Exponential": 0.9936427839078962
      }

      function last(array) {
          return array[array.length - 1];
      }
      document.querySelector('#latest-date').textContent= allTimeData.latestDate

      document.querySelector('#total-number').textContent= last(allTimeData.total)
      document.querySelector('#dead-number').textContent= last(allTimeData.dead)
      document.querySelector('#cured-number').textContent= last(allTimeData.cured)
      document.querySelector('#positive-number').textContent= last(allTimeData.positive)

      document.querySelector('#linear-equation').textContent= allTimeData.totalEquationLinear
      document.querySelector('#linear-r2').textContent= allTimeData.totalR2Linear
      document.querySelector('#power-equation').textContent= allTimeData.totalEquationPower
      document.querySelector('#power-r2').textContent= allTimeData.totalR2Power
      document.querySelector('#exponential-equation').textContent= allTimeData.totalEquationExponential
      document.querySelector('#exponential-r2').textContent= allTimeData.totalR2Exponential

      document.querySelector('#restricted-linear-equation').textContent= restrictedData.totalEquationLinear
      document.querySelector('#restricted-linear-r2').textContent= restrictedData.totalR2Linear
      document.querySelector('#restricted-power-equation').textContent= restrictedData.totalEquationPower
      document.querySelector('#restricted-power-r2').textContent= restrictedData.totalR2Power
      document.querySelector('#restricted-exponential-equation').textContent= restrictedData.totalEquationExponential
      document.querySelector('#restricted-exponential-r2').textContent= restrictedData.totalR2Exponential

      function roundTicks(value, index, values) {
          return (value > 1000 ||value<-1000)? Math.round(value/1000)+'K':value
      }

      function drawToday(){
        const ctx = todayCanvas.getContext('2d');
  			const options = {
  				type: 'line',
  				data: {
  					labels: getLabels(allTimeData.total),
  					datasets: [{
  						label: 'Total',
  						data: allTimeData.total,
  						borderColor: 'rgba(0, 0, 0,0.8)',
  						fill: false,
              showLine: false
  					}]
  				},
  				options: {
  					responsive: true,
            scales: {
                yAxes: [{
                    ticks: {
                        // Include a dollar sign in the ticks
                        callback: roundTicks
                    }
                }]
            }
  				}
  			};
  			new Chart(ctx, options);
      }
      function drawDataEquations(canvas,totalDatapoints,linearDatapoints,powerDatapoints,exponentialDatapoints,labels){
        const ctx = canvas.getContext('2d');

  			const options = {
  				type: 'line',
  				data: {
  					labels: labels,
  					datasets: [
              {
  						label: 'Total',
  						data: totalDatapoints,
  						borderColor: 'rgba(0, 0, 0,0.8)',
  						fill: false,
              showLine: false
  					},
            {
  						label: 'Linear',
  						data: linearDatapoints,
  						borderColor: 'rgba(80, 80, 150,0.5)',
  						fill: false,
              showLine: true
  					},
            {
  						label: 'Power',
  						data: powerDatapoints,
  						borderColor: 'rgba(80, 150, 80,0.5)',
  						fill: false,
              showLine: true
  					},
            {
  						label: 'Exponential',
  						data: exponentialDatapoints,
  						borderColor: 'rgba(150, 80, 80,0.5)',
  						fill: false,
              showLine: true
  					}]
  				},
  				options: {
  					responsive: true,
            scales: {
                yAxes: [{
                    ticks: {
                        // Include a dollar sign in the ticks
                        callback: roundTicks
                    }
                }]
            }
  				}
  			};
  			new Chart(ctx, options);
      }
      drawToday()
      drawDataEquations(dataEquationsCanvas, allTimeData.total, allTimeData.totalForcastedLinear, allTimeData.totalForcastedPower, allTimeData.totalForcastedExponential,getLabels(allTimeData.totalForcastedExponential))
      drawDataEquations(dataEquationsRestrictedCanvas, restrictedData.total, restrictedData.totalForcastedLinear, restrictedData.totalForcastedPower, restrictedData.totalForcastedExponential, new Array(restrictedData.totalForcastedExponential.length).fill(''))

		};
	</script>
</body>

</html>
